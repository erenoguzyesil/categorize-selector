class CategorizeSelector{_TOKENS={elements:"",classes:".",ids:"#",COLON:":",ATTRIBUTE_START:"[",ATTRIBUTE_SEPERATOR:"=",ATTRIBUTE_END:"]",SPACE:" ",EOF:";"};_currentTokenName="elements";_currentString="";_currentPseudoClass="";_currentAttributePair=[];_properties={};_propertyExists(e){return Object.keys(this._properties).includes(e)}_setCurrentToken(e){this._currentTokenName=e,"SPACE"==e||(this._propertyExists(e)||"ATTRIBUTE_START"==e||"ATTRIBUTE_SEPERATOR"==e||"ATTRIBUTE_END"==e||"COLON"==e||(this._properties[e]=[]),"ATTRIBUTE_START"!=e||this._propertyExists("attributes")||(this._properties.attributes=[]),"COLON"!=e||this._propertyExists("pseudoClasses")||(this._properties.pseudoClasses=[]))}_addPreviousToken(){"ATTRIBUTE_START"!=this._currentTokenName&&"ATTRIBUTE_SEPERATOR"!=this._currentTokenName&&""!==this._currentString&&"SPACE"!=this._currentTokenName&&("ATTRIBUTE_END"==this._currentTokenName?this._properties.attributes.push(this._currentAttributePair):"DOUBLE_COLON"==this._currentTokenName?(this._propertyExists("pseudoElements")||(this._properties.pseudoElements=[]),this._properties.pseudoElements.push(this._currentString)):"COLON"==this._currentTokenName?(this._currentPseudoClass=this._currentString,this._properties.pseudoClasses.push(this._currentString)):(this._currentPseudoClass="",this._properties[this._currentTokenName].push(this._currentString)),this._currentString="",this._currentAttributePair=[])}_analyzeSelector(e){for(let t=0;t<e.length;t++){let r=e.charAt(t);switch(r){case this._TOKENS.classes:this._addPreviousToken(),this._setCurrentToken("classes");break;case this._TOKENS.ids:this._addPreviousToken(),this._setCurrentToken("ids");break;case this._TOKENS.COLON:"COLON"==this._currentTokenName&&""==this._currentString?this._currentTokenName="DOUBLE_COLON":(this._addPreviousToken(),this._setCurrentToken("COLON"),this._currentPseudoClass="");break;case this._TOKENS.ATTRIBUTE_START:this._addPreviousToken(),this._setCurrentToken("ATTRIBUTE_START");break;case this._TOKENS.ATTRIBUTE_SEPERATOR:this._setCurrentToken("ATTRIBUTE_SEPERATOR"),this._currentAttributePair.push(this._currentString),this._currentString="";break;case this._TOKENS.ATTRIBUTE_END:this._setCurrentToken("ATTRIBUTE_END"),this._currentAttributePair.push(this._currentString);break;case"(":case")":case"+":this._currentPseudoClass.startsWith("nth")?this._currentString="":this._addPreviousToken(),this._setCurrentToken("SPACE");break;case",":case">":case"~":case this._TOKENS.SPACE:this._addPreviousToken(),this._setCurrentToken("SPACE");break;case this._TOKENS.EOF:this._addPreviousToken();break;default:this._currentString=this._currentString.concat(r),("elements"==this._currentTokenName||"SPACE"==this._currentTokenName)&&this._setCurrentToken("elements")}}let s={};for(let i in this._properties)if(0!=this._properties[i].length){Object.keys(s).includes(i)||(s[i]=[]);for(let n=0;n<this._properties[i].length;n++)s[i].includes(this._properties[i][n])||s[i].push(this._properties[i][n])}return s}getProperties(e){return""===e.trim()?{}:this._analyzeSelector(e.trim()+";")}}function categorizeSelector(e){return new CategorizeSelector().getProperties(e)}